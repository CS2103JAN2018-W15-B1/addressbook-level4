<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Ho Bing Xuan - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Ho Bing Xuan - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-et-employees-tracker"><a class="link" href="#project-et-employees-tracker">PROJECT: ET - Employees Tracker</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Employees Tracker (ET) is a human resource management software. It aims to provide a one-stop solution for managers to manage their subordinates.
Two of its major selling points are employees profile management as well as task tracking.
Since most managers can type fast, ET is designed to have a Command Line Interface (CLI) as to allow its users to carry out operations efficiently without having to switch between the keyboard and mouse.
Nonetheless, ET has a Graphical User Interface (GUI) to allow more direct visual feedbacks.</p>
</div>
<div class="paragraph">
<p>ET is developed using JAVA 8, and JavaFX and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: <strong>Notification System</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: It shows notification cards to users to remind them about the expiry of the tasks that they have assigned to their subordinates.</p>
</li>
<li>
<p>Justification: Life as a manager is busy. It is very difficult for them to keep track of all the tasks being carried out in his team. This feature alleviates their pain by removing the need for them to remember the details of each task.</p>
</li>
<li>
<p>Highlights: This features requires a seamless integration with all other components of the app, from UI to Logic and even storage, in order to work properly.
That said, when designing the interface between the Notification System and each other components, one has to know what is the best design choice, considering the constraints of the component.
Nonetheless, in order to present notifications in an elegant way that doesn&#8217;t confuses the users, a considerable amount of insights into UX and UI designs is required.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added rating feature to allow users to record the performance of each employee.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103JAN2018-W15-B1/main/blob/master/collated/functional/IzHoBX.md">Functional code</a> [<a href="https://github.com/CS2103JAN2018-W15-B1/main/blob/master/collated/test/IzHoBX.md">Test code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Oversees milestone v1.5rc and v1.5 on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Develops the command-suggestion system that gives hints on command usages dynamically according to text that users type (Pull request <a href="https://github.com/CS2103JAN2018-W15-B1/main/pull/132/">#132</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide: <a href="https://github.com">#14</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Issues reviewed (with non-trivial review comments): <a href="https://github.com/CS2103JAN2018-W15-B1/main/issues/26">#26</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/CS2103JAN2018-W13-B2/main/issues/128">1</a>, <a href="https://github.com/CS2103JAN2018-W13-B2/main/issues/137">2</a>, <a href="https://github.com/CS2103JAN2018-W13-B2/main/issues/134">3</a>, <a href="https://github.com/CS2103JAN2018-W13-B2/main/issues/130">4</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a third party library (emoji=java) to the project (<a href="https://github.com/CS2103JAN2018-W15-B1/main/pull/53/commits/b8fd616f4b40d442d5dee77c1ad77bf86ca1f96e">#53</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are my contributions to the User Guide. They showcase my ability to write documentation that are easy to be understood by end-users.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="quick-start"><a class="link" href="#quick-start">Quick Start</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains essential information and instructions to help you to start using E.T. quickly.</p>
</div>
<div class="sect2">
<h3 id="setting-up"><a class="link" href="#setting-up">Setting up</a></h3>
<div class="paragraph">
<p>If you are using E.T. for the first time, please set up E.T. by following the instructions below carefully:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure you have Java version <code>1.8.0_60</code> or later installed in your computer.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having any Java 8 version is not enough.<br>
This app will not work with earlier versions of Java 8.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Ensure that you have access to the internet.</p>
</li>
<li>
<p>Download the latest <code>et-employeestracker.jar</code> <a href="{repoURL}/releases">here</a>.</p>
</li>
<li>
<p>Copy the file to the folder you want to use as the home folder for your E.T.</p>
</li>
<li>
<p>Double-click the file to start the app. The user interface should appear in a few seconds, as shown in <em>Figure 1</em>.</p>
<div class="imageblock">
<div class="content">
<img src="../images/Ui_locked.png" alt="Ui locked" width="790">
</div>
<div class="title">Figure 1. User Interface.</div>
</div>
</li>
<li>
<p>Type <code>unlock</code> in E.T. and press <kbd>Enter</kbd> to unlock E.T. You will be greeted by a pop-up window as shown in <em>Figure 2</em>.</p>
<div class="imageblock">
<div class="content">
<img src="../images/password_box.png" alt="password box" width="790">
</div>
<div class="title">Figure 2. Pop-up window on top of E.T.</div>
</div>
</li>
<li>
<p>Type the default password <code>admin</code> in the pop-up window and press <kbd>Enter</kbd> or left-click on the <code>Unlock</code> button at the bottom right corner of the pop-up window. The pop-up window will then disappear.</p>
</li>
<li>
<p>Type <code>authenET</code> in E.T. and press <kbd>Enter</kbd> to authorize E.T. You will be directed to an authorization web page as shown in <em>Figure 3</em>.</p>
<div class="imageblock">
<div class="content">
<img src="../images/authorize_ET.png" alt="authorize ET" width="790">
</div>
<div class="title">Figure 3. Authorization web page.</div>
</div>
</li>
<li>
<p>Click on <code>allow</code> at the bottom right corner.</p>
</li>
<li>
<p>Close your browser and return to E.T. once you see a web page with a confirmation message similar to that in <em>Figure 4</em>.</p>
<div class="imageblock">
<div class="content">
<img src="../images/login_done.png" alt="login done" width="790">
</div>
<div class="title">Figure 4. Confirmation message.</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above instructions are only for first-time users. However, because E.T. is locked by default for security purposes, you will need to follow step 4, 5, 6 for every time you open E.T. in the future. Of course, if you have changed your password, then you will need to execute step 6 with your new password.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After setting up, you can start using E.T. by typing commands and press <kbd>Enter</kbd> to execute it.<br>
e.g. typing <strong><code>help</code></strong> and pressing <kbd>Enter</kbd> will open the help window.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Some example commands you can try:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
lists all employees.</p>
</li>
<li>
<p><code>add n/John Doe p/98765432 e/johnd@example.com a/John street, block 123, #01-01</code><br>
adds an employee named <code>John Doe</code> to E.T.</p>
</li>
<li>
<p><code>delete 3</code><br>
deletes the 3<sup>rd</sup> contact shown in the current list.</p>
</li>
<li>
<p><code>exit</code><br>
exits the app.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Refer to <a href="#Commands">[Commands]</a> for more details on commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="knowing-the-user-interface"><a class="link" href="#knowing-the-user-interface">Knowing the User Interface</a></h3>
<div class="paragraph">
<p>The User Interface will be the applicationâ€™s interface that you will interact with. E.T. has a Graphical User Interface (GUI) instead of a Command Line Interface (CLI).</p>
</div>
<div class="paragraph">
<p><em>Figure 5</em> shows the 5 major components of the GUI of E.T. :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Command Box</strong>: where you type in commands.</p>
</li>
<li>
<p><strong>Result Display Box</strong>: where E.T. shows text result to you.</p>
</li>
<li>
<p><strong>Employees List Panel</strong>: where the list of all employees is shown.</p>
</li>
<li>
<p><strong>Employee&#8217;s Profile Panel</strong>: where the details of the selected employee is shown.</p>
</li>
<li>
<p><strong>Notification cards</strong>: where E.T. reminds you about events.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UiLabelled.png" alt="UiLabelled" width="800">
</div>
<div class="title">Figure 5. Graphical User Interface (GUI).</div>
</div>
</div>
<div class="sect2">
<h3 id="reading-the-result-display-box"><a class="link" href="#reading-the-result-display-box">Reading the result display box</a></h3>
<div class="paragraph">
<p>The result display box shows 3 types of information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Error messages in <span class="red">red</span> if the command you entered does not exists or does not match the pre-defined format.</p>
</li>
<li>
<p>Hints about the format and usage of the command in <span class="maroon">maroon</span>.</p>
</li>
<li>
<p>Status of E.T. in <span class="maroon">maroon</span> if your command is processed successfully.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Whenever you type keyword of a command in the <code>Command Box</code>, E.T. will provide <span class="maroon">hints</span> about its usage.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="understanding-the-notifications"><a class="link" href="#understanding-the-notifications">Understanding the notifications</a></h3>
<div class="paragraph">
<p>E.T. has a 2 phase notification system, i.e. there will be 2 notification cards popping up to remind you of each event:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first phase notification will pop out in a <span class="blue">blue</span> notification card, on the day of expiry, as shown in <em>Figure 6</em>.</p>
</li>
<li>
<p>The second phase notification will pop out in a <span class="red">red</span> notification card, at the exact time of expiry, as shown in <em>Figure 7</em>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/card_blue.png" alt="card blue" width="">
</div>
<div class="title">Figure 6. First phase notification card.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/card_red.png" alt="card red" width="">
</div>
<div class="title">Figure 7. Second phase notification card.</div>
</div>
<div class="paragraph">
<p>For example, suppose you have assigned a task to Alex which will due on 15<sup>th</sup> Apr 2018 0032 hrs. When you open E.T. for the first time in the morning of 15<sup>th</sup> Apr 2018, you will be notified that Alex has a task that will due on <strong>today</strong> in a <span class="blue">blue</span> notification card. Later at 0032 hrs of 15<sup>th</sup> Apr 2018, you will receive the second phase notification in <span class="red">red</span>, informing you that Alex should have finished the task by <strong>now</strong>.</p>
</div>
<div class="paragraph">
<p>Notification cards will disappear from the screen after 5 seconds and will be stored in the <code>Notification Center</code>. If you want to refer to them later, use <code>noti</code> command or double press <kbd>Shift</kbd> to open the <code>Notification Center</code>.</p>
</div>
<div class="paragraph">
<p>Also, if you minimizes E.T. to use other software, E.T. is capable of showing notification cards in your computer&#8217;s system (e.g. Windows, Mac, Linux, etc.), as shown in <em>Figure 8</em>. However, this feature may not work on some computer systems.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/card_windows.png" alt="card windows" width="">
</div>
<div class="title">Figure 8. E.T. shows notification card about event expiry even if you are using other programs.</div>
</div>
</div>
<div class="sect2">
<h3 id="rating-an-employee-code-rate-code"><a class="link" href="#rating-an-employee-code-rate-code">Rating an employee : <code>rate</code></a></h3>
<div class="paragraph">
<p>Updates the rating of an existing employee in E.T.<br>
Format: <code>rate INDEX RATING</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The index refers to the index number shown in the last employees listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>Both INDEX and RATING must be provided.</p>
</li>
<li>
<p>Existing rating will be updated to the input RATING.</p>
</li>
<li>
<p>RATING must be a positive integer between 1 and 5, i.e. 1, 2, 3, 4, or 5.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>An employee will have a null rating (shown as <code>-</code>) by default upon added. This implies that the employee is yet to be rated.</p>
</li>
<li>
<p>You cannot assign null rating to an employee.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>rate 1 5</code><br>
Gives the 1<sup>st</sup> employee in the last employees listing a 5-stars rating.</p>
</li>
<li>
<p><code>find Alex</code><br>
<code>rate 2 2</code><br>
Gives the 2<sup>nd</sup> employee in the list of Alex(s) a 2-stars rating.
=== Toggling the notification center : <code>noti</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Shows the notification center if it is hidden or hides the notification center if it is shown.<br>
Format: <code>noti</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Alternatively, you can <strong>double press</strong> <kbd>SHIFT</kbd> to toggle the notification center.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="dismissing-a-notification-card-code-dismiss-code"><a class="link" href="#dismissing-a-notification-card-code-dismiss-code">Dismissing a notification card : <code>dismiss</code></a></h3>
<div class="paragraph">
<p>Dismisses the notification card identified by the index number.<br>
Format: <code>dismiss INDEX</code></p>
</div>
</div>
<div class="sect2">
<h3 id="reminding-an-employee-through-email-code-email-code"><a class="link" href="#reminding-an-employee-through-email-code-email-code">Reminding an employee through email : <code>email</code></a></h3>
<div class="paragraph">
<p>Opens up the email app of the computer to send a reminder email about the notification identified by the index number used in notification cards.<br>
Format: <code>email INDEX</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>You will be brought straight to the email composing interface of your email app.</p>
</li>
<li>
<p>The recipient of the email will be set to the email address of the employee who was assigned the event.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="reminding-an-employee-through-whatsapp-code-emailall-code"><a class="link" href="#reminding-an-employee-through-whatsapp-code-emailall-code">Reminding an employee through WhatsApp : <code>emailall</code></a></h3>
<div class="paragraph">
<p>Opens up the email app of the computer to send a reminder email to all persons who has a task ended.<br>
Format: <code>emailall INDEX</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>You will be brought straight to the email composing interface of your email app.</p>
</li>
<li>
<p>The recipient of the email will be set to the email address of all employees who has task(s) ended.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to convey technical ideas in a professional and comprehensible way as well as the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="edit-and-rate-a-person"><a class="link" href="#edit-and-rate-a-person">Edit and rate a person</a></h3>
<div class="paragraph">
<p>This section presents the implmentation of <code>edit</code> command and <code>rate</code> command, which are implemented in a similar manner. The only difference is that <code>rate</code> can only change the <code>Rating</code> field, but <code>edit</code> can be used to change any field.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>There are 4 classes that play a vital role in the current implementation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Person</p>
</li>
<li>
<p>EditCommandParser or RateCommandParser</p>
</li>
<li>
<p>EditPersonDescriptor</p>
</li>
<li>
<p>EditCommand</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following code snippet shows the fields of the <code>EditPersonDescriptor</code> class, which is an internal class of <code>EditCommand</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">EditPersonDescriptor</span> {
        <span class="directive">private</span> <span class="predefined-type">Name</span> name;
        <span class="directive">private</span> Phone phone;
        <span class="directive">private</span> Email email;
        <span class="directive">private</span> Address address;
        <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Tag&gt; tags;
        <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Review&gt; reviews;
        <span class="directive">private</span> Rating rating;
        <span class="directive">private</span> Photo photo;
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>EditPersonDescriptor</code> has the exact same fields as the <code>Person</code> class.
Each of the fields is used to contain the corresponding <strong>new</strong> value of the field. For example, suppose the user wants to edit the name from "Alek" to "Alex", "Alex" will be stored in the <code>name</code> field of <code>EditPersonDescriptor</code>.<br></p>
</div>
<div class="paragraph">
<p><em>Figure 11</em> below shows the sequence diagram of the execution of <code>rate</code> command. <code>Edit</code> command has an exactly same execution, <code>RateCommandParser</code> will be replaced with <code>EditCommandParser</code> while <code>RateCommand</code> will be replaced with <code>EditCommand</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Rate%20Command%20Sequence%20Diagram.png" alt="Rate Command Sequence Diagram" width="800">
</div>
<div class="title">Figure 9. Sequence diagram of Rate Command execution</div>
</div>
<div class="paragraph">
<p>The important method calls during the execution of <code>edit</code> and <code>rate</code> command includes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>parse(args): <code>EditCommandParser</code> extracts the new information for each field from user input.</p>
</li>
<li>
<p>EditPersonDescriptor(): <code>EditPersonDescriptor</code> is used to record which field(s) will be changed and the respective new value.</p>
</li>
<li>
<p>getFilteredPersonList(): The original Person, <code>toEdit</code> is obtained from <code>Model</code>.</p>
</li>
<li>
<p>person(): <code>edited</code> Person will be created, by obtaining the new value for modified fields from <code>EditPersonDescriptor</code>. The value of unmodified field(s) are obtained from <code>toEdit</code>.</p>
</li>
<li>
<p>updatePerson(toEdit, edited): <code>edited</code> Person is used to replace <code>toEdit</code> Person in <code>AddressBook</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This current implementation of <code>edit</code> command is by courtesy of the original AddressBook application. The W15B1 team is only responsible for adapting the implementation into <code>rate</code> command.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>This section showcases some of the alternative designs for the implementation of <code>rate</code> and <code>edit</code> command.</p>
</div>
<div class="paragraph">
<p>There are 2 ways to update information regarding a <code>Person</code> object.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative 1 (current implementation): Creates a new <code>Person</code> object that contains the new information to replace the old <code>Person</code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: data integrity is guaranteed, higher cohesion (all modifications on data must be done through <code>Model</code>)</p>
</li>
<li>
<p>Cons: implementation is more complicated</p>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Uses setter methods on the <code>Person</code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: implementation is simple</p>
</li>
<li>
<p>Cons: data integrity is compromised (the <code>Person</code> object can be modified by any entity), more coupling
=== Notification System
This section discusses about the implementation of the notification feature of Employees Tracker.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All usages of the word <code>Event</code> in this section refers to the class <code>com.google.api.services.calendar.model.Event</code>,
not to be confused with Event classes in commons package which will be referred in their full name,
e.g. BaseEvent, AddressBookChangedEvent.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>This section shows how the Notification System is implemented in the current version of ET.</p>
</div>
<div class="sect4">
<h5 id="introduction"><a class="link" href="#introduction">Introduction</a></h5>
<div class="paragraph">
<p>In the current implementation, the major classes and objects of the notification system includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Notification</code> class that stores of essential information for each <code>Event</code>.</p>
</li>
<li>
<p>The LinkedList of <code>Notification</code> in the <code>AddressBook</code> class that stores all <code>Notification</code> objects.</p>
</li>
<li>
<p>The <code>NotificationCard</code> class, which is a graphical representation of <code>Notification</code>.</p>
</li>
<li>
<p>The <code>Notification Center</code> class that stores all the <code>NotificationCard</code> objects.</p>
</li>
<li>
<p>The <code>MainWindow</code> class that is involved in showing <code>NotificationCard</code> objects on the GUI.</p>
</li>
<li>
<p>The <code>Model</code> class that initiates the add notifications and delete notifications operations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the class diagram below for the association between them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Notification%20System.png" alt="Notification System" width="">
</div>
<div class="title">Figure 10. Class diagram of the Notification System</div>
</div>
</div>
<div class="sect4">
<h5 id="initialization-of-the-notification-system"><a class="link" href="#initialization-of-the-notification-system">Initialization of the Notification System</a></h5>
<div class="paragraph">
<p>For every time the app starts, the following initialization operations will be carried out:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AddressBook</code> and LinkedList of <code>Notification</code> is read from storage.</p>
</li>
<li>
<p><code>MainWindow</code> is created.</p>
</li>
<li>
<p><code>MainWindow</code> creates a <code>NotificationCenter</code>.</p>
</li>
<li>
<p><code>MainWindow</code> passes the <code>NotificationCenter</code> to <code>Model</code> through <code>Logic</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="add-notification-operation"><a class="link" href="#add-notification-operation">Add-Notification Operation</a></h5>
<div class="paragraph">
<p>The following steps show how a Notification is added to the Notification System:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A <code>Notification</code> is created.</p>
</li>
<li>
<p><code>Model</code> to add the <code>Notification</code> into the <code>Notifications</code> list in <code>AddressBook</code>.</p>
</li>
<li>
<p><code>Model</code> raises a <code>AddressBookChangedEvent</code> and <code>NotificationAddedEvent</code> after adding the Notification.</p>
</li>
<li>
<p><code>Storage</code> handles the <code>AddressBookChangedEvent</code> and saves the new list of Notifications.</p>
</li>
<li>
<p><code>Logic</code> handles the  <code>NotificationAddedEvent</code> and decides when to show the notification.</p>
</li>
<li>
<p>When it is time to show the notification, <code>Logic</code> will request <code>Ui</code> to show a notification.</p>
</li>
<li>
<p><code>Ui</code> will instruct <code>MainWindow</code> to show a notification.</p>
</li>
<li>
<p><code>MainWindow</code> will create a <code>NotificationCard</code> and shows it to user on-screen.</p>
</li>
<li>
<p><code>MainWindow</code> will create another copy of the same <code>NotificationCard</code> and stores it in the <code>NotificationCenter</code></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="find-owner-name-operation"><a class="link" href="#find-owner-name-operation">Find-owner-name operation</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Each <code>Event</code> is assigned (and thus) to an employee. In the following discussions, we will use the phrase <code>owner</code> to refer to the employee who is assigned to the <code>Event</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that the <code>Notification</code> class only contains a field called <code>ownerId</code> instead of the name, email, etc. of its <code>owner</code>.
The information of the owner of a notification is retrieved through the <code>findPersonById</code> mechanism.
The following are the details of the mechanism:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AddressBook</code> class has a <code>nextId</code> integer field.</p>
</li>
<li>
<p>Whenever an employee is added, <code>addressBook</code> assigns the <code>nextId</code> to him and increment the <code>nextId</code> field.</p>
</li>
<li>
<p>The <code>Person</code> class has an <code>id</code> field to store the id.</p>
</li>
<li>
<p>When a <code>Notification</code> is created, it has a <code>ownerId</code> field that stores the <code>id</code> of its <code>owner</code>.</p>
</li>
<li>
<p>To retrieve the owner of a <code>Notification</code>, call <code>findPersonById(ownerId)</code> to obtain the <code>Person</code> owner. Then, use getter methods to obtain relevant information.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="delete-notification-operation"><a class="link" href="#delete-notification-operation">Delete-notification operation</a></h5>
<div class="paragraph">
<p>Delete-notification operation has a simpler implementation compared to Add-notification operation. Please refer to <em>Figure 19</em> below for the flow of the operation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Delete%20Notification.png" alt="Delete Notification" width="">
</div>
<div class="title">Figure 11. Activity Diagram for deleting notification</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Deleting with <code>eventId</code> and <strong>not</strong> <code>deleteFromAddressBookOnly</code> is usally invoked by <code>deleteEvent</code> command.</p>
</li>
<li>
<p>Deleting with <code>eventId</code> and <code>deleteFromAddressBookOnly</code> is usually invoked by <code>Logic</code>, when it is yet to add a <code>NotificationCard</code> to the <code>NotificationCenter</code> but finds out that the <code>owner</code> has already been deleted.</p>
</li>
<li>
<p>Deleting with <code>eventId</code> is usually invoked by <code>delete</code> command, where <code>Notification</code> and <code>Person</code> are deleted together.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="add-notifications-at-startup-operation"><a class="link" href="#add-notifications-at-startup-operation">Add-notifications-at-startup operation</a></h5>
<div class="paragraph">
<p>At each startup, after initializing the Notification System, ET will then go through the LinkedList of <code>Notification</code> in <code>AddressBook</code>.
For each <code>Notification</code> in the LinkedList, <code>NotificationAddedEvent</code> will be called.
That said, this may result in multiple threads attempting to make GUI operations at the same time through <code>MainWindow.showNewNotification</code>.
This will result in concurrent modification issues. Thus, <code>Semaphore</code> is used to prevent those issues. Please refer to the simplified code of <code>MainWindow.showNewNotification</code> at below.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre>//current implementation only allows 1 thread to enter showNewNotification() at the same time.
Semaphore = new Semaphore(1);</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>/**
   * Show in-app notification
   */
  public void showNewNotification(ShowNotificationEvent event) {
      logger.info("Preparing in app notification");
      //...metadata update
      //hides notificationCard away from screen
      notificationCard.setTranslateX(NOTIFICATION_CARD_WIDTH);
      try {
          semaphore.acquire();
      } catch (InterruptedException e) {
          e.printStackTrace();
      }
      notificationCard.setTranslateY(UP * shownNotificationCards.size() * NOTIFICATION_CARD_HEIGHT);
      shownNotificationCards.add(notificationCard);
      semaphore.release();
      //enter animation
      Platform.runLater(new Runnable() {
          @Override
          public void run() {
              mainStage.getChildren().add(notificationCard);
              animateHorizontally(notificationCard, NOTIFICATION_CARD_WIDTH, ENTER);
              Timer timer = new Timer();
              TimerTask timerTask = new TimerTask() {
                  @Override
                  public void run() {
                      //it should be the first notification card to exit first
                      try {
                          semaphore.acquire();
                      } catch (InterruptedException e) {
                          e.printStackTrace();
                      }
                      Region firstNotificationCard = shownNotificationCards.removeFirst();
                      //cards are reused later in notification center
                      animateHorizontally(firstNotificationCard, NOTIFICATION_CARD_WIDTH, EXIT);
                      moveAllNotificationCardsDown();
                      semaphore.release();
                  }
              };
              timer.schedule(timerTask, NOTIFICATION_CARD_SHOW_TIME);
          }
      });
  }</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p>There are a couple of aspects with regards to <code>Notification</code> that can be implemented in alternative designs.</p>
</div>
<div class="sect4">
<h5 id="aspect-extracting-a-person-s-information"><a class="link" href="#aspect-extracting-a-person-s-information">Aspect: extracting a Person&#8217;s information</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative1 (current choice)</strong>: <code>searchEmployeeById</code> mechanism.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: provides the latest information even if the <code>Person</code> is edited after the <code>Notification</code> is created.</p>
</li>
<li>
<p>Cons: requires <code>id</code> field to be implemented in <code>Person</code> and <code>AddressBook</code> class, provides wrong information if <code>id</code> is not implemented correctly (e.g. repeated id).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative2</strong>: storing the Person&#8217;s Information in <code>Notification</code> class.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: has a simpler implementation.</p>
</li>
<li>
<p>Cons: provides wrong information if <code>Person</code> 's information is edited after <code>Notification</code> is created, requires to update <code>Notification</code> when <code>Person</code> is edited, increases coupling.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storing-code-event-code-locally"><a class="link" href="#aspect-storing-code-event-code-locally">Aspect: storing <code>Event</code> locally</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative1 (current choice)</strong>: stores a list of <code>Notifications</code> in <code>AddressBook</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: ensures that notification feature remains working when there&#8217;s no internet access, saves storage space as only essential information is saved.</p>
</li>
<li>
<p>Cons: has a complicated implementation (creation of <code>Notification</code> class and edit of <code>Person</code> and <code>AddressBook</code> class for <code>searchEmployeeById</code> mechanism).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative2</strong> : stores a list of <code>Event</code> in <code>AddressBook</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: has a simpler implementation (doesn&#8217;t need to implement <code>Notification</code> class).</p>
</li>
<li>
<p>Cons: requires another mechanism for extracting <code>ownerName</code> because <code>Event</code> class does not store <code>ownerName</code>, waste of storage space because <code>Event</code> class contains a lot of information unnecessary for notification feature.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative3</strong> : stores a list of <code>Notifications</code> in <code>Person</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: has a simpler implementation (doesn&#8217;t need to implement <code>searchEmployeeById</code> mechanism).</p>
</li>
<li>
<p>Cons: compromises performance, especially when there are a lot of employees and only a few <code>Notification</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative4</strong> : does not store <code>Event</code> locally (relies on Google calendar service).</p>
<div class="ulist">
<ul>
<li>
<p>Pros: has the simplest implementation (only need to pull data from Google, does not need to create local class), saves storage space as nothing is stored locally.</p>
</li>
<li>
<p>Cons: compromises notification feature if there&#8217;s no internet access, requires another mechanism for extracting <code>ownerName</code> because <code>Event</code> class does not store <code>ownerName</code>, compromises performance if internet speed is slow).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 14:47:16 UTC
</div>
</div>
</body>
</html>